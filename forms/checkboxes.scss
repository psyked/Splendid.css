$inactive: #9E9E9E;

input[type=checkbox]
{
    width: 1em;
    height: 1em;
    font: inherit;
    vertical-align: middle;
    -webkit-appearance: none;
    -moz-appearance: none;
    -ms-appearance: none;
    -o-appearance: none;
    appearance: none;
    background: #fff;
    border-radius: .125em;
    box-sizing: border-box;
    border: .125em solid $inactive;
    box-shadow: inset 0 0 0 0 $indigo;
    position: relative;
    font-size: 1.6em;
    margin-right: 1rem;
    cursor: pointer;

    transition: transform .3s cubic-bezier(.2, .3, 0, 1), box-shadow .3s cubic-bezier(.2, .3, 0, 1), border-color 0s linear .17s;

    & + label
    {
        cursor: pointer;
    }

    &:not(:disabled):hover
    {
        border-color: $astral;
    }

    &:disabled
    {
        background: lighten($inactive, 20%);
        cursor: default;

        &:before, &:after
        {
            background: lighten($inactive, 20%);
        }
    }

    &:focus
    {
        border: .125em solid $orange !important;
        outline: none;
    }

    &:active
    {
        transform: scale(.8);
    }

    &:checked
    {
        border-color: $indigo;
        box-shadow: inset 0 0 0 .5em $indigo;
        transition: transform .3s cubic-bezier(.2, .3, 0, 1), box-shadow .3s cubic-bezier(.2, .3, 0, 1), border-color 0s;

        &:disabled
        {
            border-color: desaturate($indigo, 100%);
            box-shadow: inset 0 0 0 .5em desaturate($indigo, 100%);
        }
    }

    &:before, &:after
    {
        content: '';
        background: #fff;
        height: 1em;
        width: 1em;
        position: absolute;
        transform: translate(.2728em, .4279em) rotate(44.91deg) scale(.3411, .1);
        transform-origin: 0 0;
        transition: transform .3s cubic-bezier(.2, .3, 0, 1), opacity .3s cubic-bezier(.2, .3, 0, 1);
        top: -.125em;
        left: -.125em;
    }

    &:after
    {
        transform: translate(.8494em, .35em) rotate(135.22deg) scale(.5612, .1);
    }

    &:not(:checked):before
    {
        transform: translate(.505em, .455em) rotate(44.91deg) scale(.1, .1);
        /* opacity: 0; */
    }
    &:not(:checked):after
    {
        transform: translate(.575em, .525em) rotate(135.22deg) scale(.1, .1);
        /* opacity: 0; */
    }
}